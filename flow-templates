{
  "created": "1746384888499",
  "updated": "1746384888499",
  "name": "Send ChatGPT welcome email to MailChimp new subscribers",
  "description": "",
  "tags": [],
  "pieces": [
    "@activepieces/piece-mailchimp",
    "@activepieces/piece-openai",
    "@activepieces/piece-sendgrid"
  ],
  "template": {
    "displayName": "Send ChatGPT welcome email to MailChimp new subscribers",
    "trigger": {
      "name": "trigger",
      "valid": false,
      "displayName": "Member Subscribed to Audience",
      "type": "PIECE_TRIGGER",
      "settings": {
        "pieceName": "@activepieces/piece-mailchimp",
        "pieceVersion": "~0.2.1",
        "pieceType": "OFFICIAL",
        "packageType": "REGISTRY",
        "input": {
          "list_id": "2ae2f814cd"
        },
        "inputUiInfo": {},
        "triggerName": "subscribe"
      },
      "nextAction": {
        "name": "step_1",
        "type": "PIECE",
        "valid": false,
        "settings": {
          "input": {
            "roles": [
              {
                "role": "system",
                "content": "You are a helpful assistant."
              },
              {
                "role": "user",
                "content": "Who won the world series in 2020?"
              },
              {
                "role": "assistant",
                "content": "The Los Angeles Dodgers won the World Series in 2020."
              }
            ],
            "prompt": "Write a welcome email to this person:{{trigger}}\n\nStrictly return a JSON object that has two fields, \"subject\" and \"message\".\n\nPersonalize the message according to the person object above. Mention a unique historic event that happened on the same day of their registration in the past (only use accurate information for this).\n\nContext about our business (the senders of the email):\nWe are a group of readers, and the user has signed up for our weekly newsletter of book recommendation."
          },
          "pieceName": "@activepieces/piece-openai",
          "pieceType": "OFFICIAL",
          "actionName": "ask_chatgpt",
          "inputUiInfo": {},
          "packageType": "REGISTRY",
          "pieceVersion": "~0.2.5"
        },
        "nextAction": {
          "name": "step_3",
          "type": "CODE",
          "valid": false,
          "settings": {
            "input": {
              "chatgpt": "{{step_1}}"
            },
            "artifact": "UEsDBAoAAAAAAO4AJVcaCx9KUgAAAFIAAAAIAAAAaW5kZXgudHNleHBvcnQgY29uc3QgY29kZSA9IGFzeW5jIChpbnB1dHMpID0+IHsKICAgIHJldHVybiBKU09OLnBhcnNlKGlucHV0cy5jaGF0Z3B0KTsKfTsKUEsDBAoAAAAAAO4AJVcaUtEIHAAAABwAAAAMAAAAcGFja2FnZS5qc29uewogICJkZXBlbmRlbmNpZXMiOiB7CiAgfQp9ClBLAQIUAAoAAAAAAO4AJVcaCx9KUgAAAFIAAAAIAAAAAAAAAAAAAAAAAAAAAABpbmRleC50c1BLAQIUAAoAAAAAAO4AJVcaUtEIHAAAABwAAAAMAAAAAAAAAAAAAAAAAHgAAABwYWNrYWdlLmpzb25QSwUGAAAAAAIAAgBwAAAAvgAAAAAA",
            "inputUiInfo": {}
          },
          "nextAction": {
            "name": "step_2",
            "type": "PIECE",
            "valid": false,
            "settings": {
              "input": {
                "to": [
                  "{{trigger.data.email}}"
                ],
                "from": "no-reply@example.com",
                "content": "{{step_3.message}}",
                "subject": "{{step_3.subject}}",
                "from_name": "Our Business",
                "content_type": "text"
              },
              "pieceName": "@activepieces/piece-sendgrid",
              "pieceType": "OFFICIAL",
              "actionName": "send_email",
              "inputUiInfo": {},
              "packageType": "REGISTRY",
              "pieceVersion": "~0.2.3"
            },
            "displayName": "Send Email"
          },
          "displayName": "Code"
        },
        "displayName": "Ask ChatGPT"
      }
    },
    "valid": false,
    "connectionIds": [],
    "schemaVersion": "1"
  },
  "blogUrl": ""
}
